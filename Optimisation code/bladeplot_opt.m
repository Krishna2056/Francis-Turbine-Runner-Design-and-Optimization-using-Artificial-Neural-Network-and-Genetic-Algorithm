%this is code for n=4 control pints of bezier curve
 function bladeplot_opt(loop_index,zr_new,zr)
 close all
% clear all
% clc
% zr_new=[0	0	0	0.005593995	0.013329672	0.024813582	0.024813582	0.096569987	0.173640265	0.34	0.093362	0.093361	0.093361	0.110247146	0.141682737	0.163063635	0.163063635	0.221291973	0.280545016	0.34	0	0.093362	0.34	0.34	0	0.021474976	0.089698856	0.093361	0.024813582	0.061282879	0.160200688	0.163063635
%     0.158628	0.114625	0.114625	0.097796356	0.080610494	0.066822181	0.066822181	0.029713842	0.031570957	0.029714	0.158628	0.153344	0.153344	0.129518711	0.144630289	0.150035144	0.150035144	0.157806571	0.15962044	0.16064	0.158628	0.158628	0.029714	0.16064	0.114625	0.111917278	0.13711511	0.153344	0.066822181	0.079120493	0.113039536	0.150035144];
% 
% zr=[0	0	0	0.005593995	0.013329672	0.024813582	0.024814	0.096569987	0.173640265	0.34	0.093362	0.093361	0.093361339	0.110247146	0.141682737	0.163063635	0.163064	0.221291973	0.280545016	0.34	0	0.093362	0.34	0.34	0	0.021474976	0.089698856	0.093361	0.024813582	0.061282879	0.160200688	0.163589565
%     0.158628	0.114625	0.114625469	0.097256601	0.081285638	0.066822181	0.066822	0.029713842	0.031570957	0.029714	0.158628	0.153344	0.153343898	0.139288261	0.144975815	0.150035144	0.150035	0.157806571	0.15962044	0.16064	0.158628	0.158628	0.029714	0.16064	0.114625	0.119117389	0.132932365	0.153344383	0.066822181	0.077896346	0.108551115	0.150105105];
% loop_index=5;
for i=1:4
n=4;
n1=n-1;
if i==1;
    m=3;
end
if i==2;
    m=13;
end
if i==3;
    m=25;
end
if i==4;
    m=29;
end
[p]=zr(:,m:m+3)';
[q]=zr_new(:,m:m+3)';
for i=0:1:n1
    coeff(i+1)=factorial(n1)/(factorial(i)*factorial(n1-i));
    end
J=[];
D=[];
for t=0:0.002:1
for d=1:n
    J(d)=coeff(d)*((t^(d-1))*((1-t)^(n-d)));
end
    D=cat(1,D,J);
end
B1=D*p;
B2=D*q;
hold on;
figure(1)
line(B1(:,1),B1(:,2),'LineStyle','--');
line(B2(:,1),B2(:,2),'color','r');
%line(p(:,1),p(:,2))
%line(q(:,1),q(:,2))
end
xlabel('z');
ylabel('r');
legend ('original',sprintf('Optimisation Iteration %d', loop_index));
folder = 'D:\\Kalpana101\\meridoinaloptimisation';
baseFileName = sprintf('meri_optim%d.jpg', loop_index);
fullFileName = fullfile(folder, baseFileName);
    saveas(gcf,fullFileName); %put varible for 1 if you want create different name 
    hold off
 end
 





